# [[16946]](https://www.acmicpc.net/problem/1509) 벽 부수고 이동하기 4

## 해결 방법

### 0.

- 이 문제는 벽을 부수고 거기서 BFS를 수행하는 경우 TLE를 받게 된다.
- 따라서 0인 점들에 대해서 미리 도달 할 수 있는 0의 개수를 구해놔야 한다.
- 이후 부순 벽의 상하좌우의 0에 대해서 위에서 구한 값을 모두 합하고 1을 더한다.
- 1의 상하좌우에 있는 0이 서로 연결되어 있는 경우(중복)를 고려해야 한다.

---

### 1. 0인 점들에 대해서 BFS를 수행한다

- 0에서 도달할 수 있는 0의 개수를 구해야 한다. 하지만 위에서 설명한 것과 같이 상하좌우의 0들이 서로 연결된 경우를 판별할 수 있어야한다.
- 이것을 위해 color배열을 사용했다. BFS를 수행하면서 서로 연결된 0들을 모두 같은 색(양의 정수)로 칠한다.
- BFS가 종료되면 총 0의 개수를 해당 색깔에 대해서 저장한다.

### 2. 벽(1)을 부수고 정답 구하기

- 이제 1을 찾아 그 1의 상하좌우의 0을 찾는다.
- 하나씩 더하면서 색이 중복된지 확인한다. 중복된다면 더하지 않는다.

---

## 하면서 얻은 것

- 엄청 많이 틀렸다. 모두 TLE로 틀리고 원인을 찾는데 많은 시간을 소모했다.
- 원인은 BFS를 수행할 때 큐를 사용했는데 pop한 뒤 방문했음을 표시만 하고 이미 방문된 정점인지 확인하지 않았다.
- 큐에 삽입할 때 방문 여부를 확인하고 삽입했지만 아직 큐에서 나오지 않은 정점은 방문하지 않은 상태라 중복해서 들어갈 수 있다는 점을 놓쳤다.
